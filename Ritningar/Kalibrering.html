<!DOCTYPE html>
<!-- saved from url=(0062)file:///C:/Users/27453-9/Documents/GitHub/Kelly/calibrate.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Kalibrering</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
            font-family: Arial;
        }

        .header {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        h1 {
            color: #ffd700;
            margin-bottom: 10px;
        }

        button {
            background: #ffd700;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-right: 10px;
        }

        button:hover {
            background: #ffed4e;
        }

        .wrapper {
            position: relative;
            max-width: 1400px;
            margin: 0 auto;
            border: 3px solid #ffd700;
            border-radius: 10px;
            overflow: hidden;
        }

        img {
            width: 100%;
            display: block;
        }

        .door {
            position: absolute;
            width: 50px;
            height: 50px;
            background: rgba(255, 215, 0, 0.5);
            border: 2px solid #ffd700;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            color: #ffd700;
            cursor: move;
            user-select: none;
        }

        .marker {
            position: absolute;
            width: 50px;
            height: 50px;
            background: #000;
            border: 2px solid #000;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            color: #fff;
            pointer-events: none;
        }

        textarea {
            width: 100%;
            height: 300px;
            background: #1a1a1a;
            color: #0f0;
            border: 2px solid #ffd700;
            border-radius: 5px;
            padding: 15px;
            font-family: monospace;
            font-size: 12px;
            margin-top: 20px;
        }

        .info {
            background: #2a2a2a;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .info-item {
            background: #1a1a1a;
            padding: 10px;
            border-radius: 5px;
        }

        .label {
            color: #888;
            font-size: 12px;
        }

        .value {
            color: #ffd700;
            font-size: 14px;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>üéÑ Julkalender - Placeringsverktyg</h1>
        <p style="color: #aaa; margin-bottom: 15px;">Dra varje nummer till r√§tt position. Ett svart nummer l√§mnas kvar
            n√§r du drar.</p>
        <button onclick="generateCode()">üìã Generera Kod</button>
        <button onclick="resetDoors()">üîÑ √Öterst√§ll</button>
        <button onclick="clearMarkers()">üóëÔ∏è Rensa</button>
    </div>
    <div class="wrapper" id="wrapper">
        <img src="./Kalibrering_files/Hus.png" alt="Hus">
    <div class="door" data-num="1" style="left: 610.87px; top: 1166.88px;">1</div><div class="door" data-num="2" style="left: 546.667px; top: 415.667px;">2</div><div class="door" data-num="3" style="left: 1119.67px; top: 619.667px;">3</div><div class="door" data-num="4" style="left: 589.667px; top: 926.667px;">4</div><div class="door" data-num="5" style="left: 969.667px; top: 762.667px;">5</div><div class="door" data-num="6" style="left: 1152.22px; top: 1352.22px;">6</div><div class="door" data-num="7" style="left: 863.222px; top: 1141.22px;">7</div><div class="door" data-num="8" style="left: 825.222px; top: 1407.22px;">8</div><div class="door" data-num="9" style="left: 254.222px; top: 1297.22px;">9</div><div class="door" data-num="10" style="left: 917.222px; top: 1572.22px;">10</div><div class="door" data-num="11" style="left: 432.222px; top: 1169.22px;">11</div><div class="door" data-num="12" style="left: 1260.22px; top: 488.222px;">12</div><div class="door" data-num="13" style="left: 375.653px; top: 1587.62px;">13</div><div class="door" data-num="14" style="left: 1086.22px; top: 1054.22px;">14</div><div class="door" data-num="15" style="left: 99.2222px; top: 130.222px;">15</div><div class="door" data-num="16" style="left: 752.222px; top: 1121.22px;">16</div><div class="door" data-num="17" style="left: 561.222px; top: 1079.22px;">17</div><div class="door" data-num="18" style="left: 710.222px; top: 127.222px;">18</div><div class="door" data-num="19" style="left: 1032.22px; top: 877.222px;">19</div><div class="door" data-num="20" style="left: 754.222px; top: 236.222px;">20</div><div class="door" data-num="21" style="left: 299.222px; top: 1517.22px;">21</div><div class="door" data-num="22" style="left: 1065.22px; top: 423.222px;">22</div><div class="door" data-num="23" style="left: 1172.22px; top: 1141.22px;">23</div><div class="door" data-num="24" style="left: 641.222px; top: 1092.22px;">24</div><div class="marker" data-num="1" style="left: 43.5%; top: 64.7%;">1</div><div class="marker" data-num="2" style="left: 39%; top: 23%;">2</div><div class="marker" data-num="3" style="left: 79.8%; top: 34.4%;">3</div><div class="marker" data-num="4" style="left: 42%; top: 51.4%;">4</div><div class="marker" data-num="5" style="left: 69.1%; top: 42.3%;">5</div><div class="marker" data-num="6" style="left: 82%; top: 74.9%;">6</div><div class="marker" data-num="7" style="left: 61.5%; top: 63.2%;">7</div><div class="marker" data-num="8" style="left: 58.8%; top: 78%;">8</div><div class="marker" data-num="9" style="left: 18.1%; top: 71.9%;">9</div><div class="marker" data-num="10" style="left: 65.3%; top: 87.1%;">10</div><div class="marker" data-num="11" style="left: 30.8%; top: 64.8%;">11</div><div class="marker" data-num="12" style="left: 89.7%; top: 27.1%;">12</div><div class="marker" data-num="13" style="left: 26.7%; top: 88%;">13</div><div class="marker" data-num="14" style="left: 77.3%; top: 58.4%;">14</div><div class="marker" data-num="15" style="left: 7.1%; top: 7.2%;">15</div><div class="marker" data-num="16" style="left: 53.6%; top: 62.1%;">16</div><div class="marker" data-num="17" style="left: 40%; top: 59.8%;">17</div><div class="marker" data-num="18" style="left: 50.6%; top: 7.1%;">18</div><div class="marker" data-num="19" style="left: 73.5%; top: 48.6%;">19</div><div class="marker" data-num="20" style="left: 53.7%; top: 13.1%;">20</div><div class="marker" data-num="21" style="left: 21.3%; top: 84.1%;">21</div><div class="marker" data-num="22" style="left: 75.8%; top: 23.5%;">22</div><div class="marker" data-num="23" style="left: 83.5%; top: 63.2%;">23</div><div class="marker" data-num="24" style="left: 45.7%; top: 60.5%;">24</div></div>
    <div class="info">
        <div class="info-item">
            <div class="label">Aktiv</div>
            <div class="value" id="active">24</div>
        </div>
        <div class="info-item">
            <div class="label">Position</div>
            <div class="value" id="position">45.7%, 60.5%</div>
        </div>
        <div class="info-item">
            <div class="label">Mus</div>
            <div class="value" id="mouse">83.5%, 84.9%</div>
        </div>
        <div class="info-item">
            <div class="label">Placerade</div>
            <div class="value" id="count">24/24</div>
        </div>
    </div>
    <textarea id="output" readonly="" placeholder="Klicka &#39;Generera Kod&#39; f√∂r att se HTML..."></textarea>

    <script>
        const positions = {};
        let draggedDoor = null;
        let offsetX = 0, offsetY = 0;
        const wrapper = document.getElementById('wrapper');

        // Create all 24 doors
        for (let i = 1; i <= 24; i++) {
            const door = document.createElement('div');
            door.className = 'door';
            door.textContent = i;
            door.dataset.num = i;
            door.style.left = (10 + (i - 1) * 60) + 'px';
            door.style.top = '10px';
            door.addEventListener('mousedown', startDrag);
            wrapper.appendChild(door);
        }

        // Track mouse position
        wrapper.addEventListener('mousemove', (e) => {
            const rect = wrapper.getBoundingClientRect();
            const x = ((e.clientX - rect.left) / rect.width * 100).toFixed(1);
            const y = ((e.clientY - rect.top) / rect.height * 100).toFixed(1);
            document.getElementById('mouse').textContent = x + '%, ' + y + '%';
        });

        function startDrag(e) {
            draggedDoor = e.target;
            const rect = draggedDoor.getBoundingClientRect();
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;
            document.getElementById('active').textContent = draggedDoor.dataset.num;
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
            e.preventDefault();
        }

        function drag(e) {
            if (!draggedDoor) return;
            const rect = wrapper.getBoundingClientRect();
            let x = e.clientX - rect.left - offsetX;
            let y = e.clientY - rect.top - offsetY;
            x = Math.max(0, Math.min(rect.width - 50, x));
            y = Math.max(0, Math.min(rect.height - 50, y));
            draggedDoor.style.left = x + 'px';
            draggedDoor.style.top = y + 'px';
            const xPercent = (x / rect.width * 100).toFixed(1);
            const yPercent = (y / rect.height * 100).toFixed(1);
            document.getElementById('position').textContent = xPercent + '%, ' + yPercent + '%';
        }

        function stopDrag() {
            if (!draggedDoor) return;
            const rect = wrapper.getBoundingClientRect();
            const x = parseFloat(draggedDoor.style.left);
            const y = parseFloat(draggedDoor.style.top);
            const xPercent = (x / rect.width * 100).toFixed(1);
            const yPercent = (y / rect.height * 100).toFixed(1);
            const num = draggedDoor.dataset.num;
            positions[num] = { left: xPercent, top: yPercent };

            // Create black marker
            const marker = document.createElement('div');
            marker.className = 'marker';
            marker.textContent = num;
            marker.dataset.num = num;
            marker.style.left = xPercent + '%';
            marker.style.top = yPercent + '%';

            // Remove old marker if exists
            const oldMarker = wrapper.querySelector('.marker[data-num="' + num + '"]');
            if (oldMarker) oldMarker.remove();

            wrapper.appendChild(marker);
            document.getElementById('count').textContent = Object.keys(positions).length + '/24';
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', stopDrag);
            draggedDoor = null;
        }

        function generateCode() {
            let html = '        <!-- Clickable door overlays positioned on the house -->' + '\n';
            for (let i = 1; i <= 24; i++) {
                if (positions[i]) {
                    const p = positions[i];
                    html += '        <div class="door-overlay" data-door="' + i + '" style="left: ' + p.left + '%; top: ' + p.top + '%; width: 7%; height: 14%;"></div>' + '\n';
                }
            }
            document.getElementById('output').value = html;
            document.getElementById('output').select();
        }

        function resetDoors() {
            for (let i = 1; i <= 24; i++) {
                const door = wrapper.querySelector('.door[data-num="' + i + '"]');
                if (door) {
                    door.style.left = (10 + (i - 1) * 60) + 'px';
                    door.style.top = '10px';
                }
            }
        }

        function clearMarkers() {
            wrapper.querySelectorAll('.marker').forEach(m => m.remove());
            Object.keys(positions).forEach(key => delete positions[key]);
            document.getElementById('count').textContent = '0/24';
        }
    </script>


</body></html>